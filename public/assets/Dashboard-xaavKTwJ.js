import{d as h,u as k,r as d,b as C,e as P,f as V,g as w,c as D,o as S,a as e,l as s,n,t as p,w as r}from"./index-Xum_CI5g.js";const T={class:"grid grid-cols-12 gap-8"},B={class:"col-span-12 xl:col-span-6 xl:row-span-2"},E={class:"card"},j={class:"col-span-12 lg:col-span-6"},L={class:"card mb-0 h-full"},N={class:"flex justify-between mb-4"},O={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},q={class:"col-span-12 lg:col-span-6"},A={class:"card mb-0 h-full"},M={class:"flex justify-between mb-4"},G={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},J=h({__name:"Dashboard",setup(H){const c=w(),{reqData:m}=V(),g=k(),u=d(),i=d(null),o=C({list_events:null,total_event:0,event_group:[]}),_=()=>{if(!o.event_group?.length)return{};const t=getComputedStyle(document.body);return{labels:o.event_group.map(a=>a.event_group_name),datasets:[{data:o.event_group.map(a=>a.total_event),backgroundColor:[t.getPropertyValue("--p-cyan-500"),t.getPropertyValue("--p-orange-500"),t.getPropertyValue("--p-gray-500"),t.getPropertyValue("--p-blue-500"),t.getPropertyValue("--p-green-500"),t.getPropertyValue("--p-pink-500")],hoverBackgroundColor:[t.getPropertyValue("--p-cyan-400"),t.getPropertyValue("--p-orange-400"),t.getPropertyValue("--p-gray-400"),t.getPropertyValue("--p-blue-400"),t.getPropertyValue("--p-green-400"),t.getPropertyValue("--p-pink-400")]}]}},v=()=>({plugins:{legend:{labels:{cutout:"60%",color:getComputedStyle(document.documentElement).getPropertyValue("--p-text-color")}}}});return P(async()=>{const t=await m({url:"/api"+c.path,method:"POST",reqType:"Json"});if(t.status=="error"){g.add({severity:"error",summary:"Gagal Ambil Data Halaman",detail:t.message,group:"br",life:3e3});return}o.list_events=t.data.list_events,o.total_event=t.data.total_event,o.event_group=t.data.event_group,o.event_group&&o.event_group.length&&(u.value=_(),i.value=v())}),(t,a)=>{const f=n("Chart"),l=n("Column"),b=n("Button"),y=n("DataTable");return S(),D("main",T,[e("div",B,[e("div",E,[s(f,{type:"doughnut",data:u.value,options:i.value,class:"w-full md:w-[30rem]"},null,8,["data","options"])])]),e("div",j,[e("div",L,[e("div",N,[e("div",null,[a[0]||(a[0]=e("span",{class:"block text-muted-color font-medium mb-4"},"Total Event",-1)),e("div",O,p(o.total_event),1)]),a[1]||(a[1]=e("div",{class:"flex items-center justify-center bg-blue-100 dark:bg-blue-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-cart text-blue-500 !text-xl"})],-1))])])]),e("div",q,[e("div",A,[e("div",M,[e("div",null,[a[2]||(a[2]=e("span",{class:"block text-muted-color font-medium mb-4"},"Total Kategori",-1)),e("div",G,p(o.total_event),1)]),a[3]||(a[3]=e("div",{class:"flex items-center justify-center bg-blue-100 dark:bg-blue-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-cart text-blue-500 !text-xl"})],-1))])])]),s(y,{value:o.list_events,tableStyle:"min-width: 50rem",pt:{root:{class:["col-span-12 rounded-xl"]}}},{header:r(()=>[...a[4]||(a[4]=[e("div",{class:"flex flex-wrap"},[e("span",{class:"text-xl font-bold"},"List Item")],-1)])]),default:r(()=>[s(l,{field:"event_name",header:"Nama Event"}),s(l,{field:"start_date",header:"Tanggal Mulai Event"}),s(l,{field:"nama_lokasi",header:"Nama Lokasi"}),s(l,{field:"link_lokasi",header:"Posisi Lokasi"},{body:r(x=>[s(b,{as:"a",href:x.data.link_lokasi,target:"_blank",rel:"noopener noreferrer"},{default:r(()=>[...a[5]||(a[5]=[e("i",{class:"pi pi-map-marker"},null,-1),e("span",null,"Lokasi",-1)])]),_:1},8,["href"])]),_:1})]),_:1},8,["value"])])}}});export{J as default};
